<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åŒ—æ–—æ•™è‚² | AI è­‰ç…§è€ƒè©¦</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap');
        body { font-family: 'Noto Sans TC', sans-serif; }
        .gradient-bg { background: linear-gradient(135deg, #1e3a5f 0%, #3b82f6 100%); }
        .card-hover { transition: all 0.3s ease; }
        .card-hover:hover { transform: translateY(-2px); }
        .option-btn { transition: all 0.2s ease; }
        .option-btn:hover:not(.answered) { background: #f3f4f6; }
        .option-btn.selected { border-color: #3b82f6; background: #eff6ff; }
        .option-btn.correct { border-color: #10b981; background: #d1fae5; }
        .option-btn.wrong { border-color: #ef4444; background: #fee2e2; }
        .loading { animation: pulse 1.5s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
    </style>
<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-8X0VB6K9G7"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag("js", new Date());
  gtag("config", "G-8X0VB6K9G7");
</script>
</head>
<body class="bg-gray-50 min-h-screen">
    <div id="app">
        <!-- Header -->
        <header class="gradient-bg text-white shadow-lg">
            <div class="container mx-auto px-4 py-4">
                <div class="flex items-center justify-between">
                    <a href="index.html" class="flex items-center space-x-3">
                        <div class="text-3xl">ğŸ“</div>
                        <div>
                            <h1 class="text-xl font-bold">åŒ—æ–—æ•™è‚²</h1>
                            <p class="text-sm text-blue-200">AI è­‰ç…§ + iPAS æ¨¡æ“¬è€ƒ</p>
                        </div>
                    </a>
                    <div id="headerStats" class="text-right">
                        <div class="text-2xl font-bold" id="totalQuestions">--</div>
                        <div class="text-sm text-blue-200">é¡Œåº«ç¸½æ•¸</div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="container mx-auto px-4 py-6">
            <!-- Loading -->
            <div id="loadingSection" class="text-center py-12">
                <div class="text-4xl mb-4 loading">ğŸ“</div>
                <p class="text-gray-500">è¼‰å…¥è­‰ç…§é¡Œåº«...</p>
            </div>

            <!-- Cert Selection -->
            <section id="certSection" class="hidden">
                <h2 class="text-xl font-bold text-gray-800 mb-6">ğŸ“œ é¸æ“‡è­‰ç…§é¡å‹</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                    <!-- Google AI -->
                    <div onclick="selectCert('google')" 
                        class="cert-card bg-white rounded-xl shadow-md p-6 cursor-pointer card-hover border-2 border-transparent"
                        data-cert="google">
                        <div class="flex items-center justify-between mb-4">
                            <img src="https://www.gstatic.com/images/branding/product/2x/googleg_48dp.png" class="w-12 h-12">
                            <span class="px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full font-medium">å…¥é–€</span>
                        </div>
                        <h3 class="font-bold text-lg mb-1">Google AI Essentials</h3>
                        <p class="text-gray-500 text-sm mb-4">Google å®˜æ–¹ AI åŸºç¤èªè­‰</p>
                        <div class="flex justify-between text-sm">
                            <span class="text-gray-400">ğŸ“ <span class="google-count">--</span> é¡Œ</span>
                            <span class="text-green-600">åŠæ ¼ 80%</span>
                        </div>
                    </div>
                    
                    <!-- AWS AI -->
                    <div onclick="selectCert('aws')" 
                        class="cert-card bg-white rounded-xl shadow-md p-6 cursor-pointer card-hover border-2 border-transparent"
                        data-cert="aws">
                        <div class="flex items-center justify-between mb-4">
                            <div class="w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center text-2xl">â˜ï¸</div>
                            <span class="px-2 py-1 bg-yellow-100 text-yellow-700 text-xs rounded-full font-medium">ä¸­ç´š</span>
                        </div>
                        <h3 class="font-bold text-lg mb-1">AWS AI Practitioner</h3>
                        <p class="text-gray-500 text-sm mb-4">AWS AI å¾æ¥­è€…èªè­‰</p>
                        <div class="flex justify-between text-sm">
                            <span class="text-gray-400">ğŸ“ <span class="aws-count">--</span> é¡Œ</span>
                            <span class="text-yellow-600">åŠæ ¼ 70%</span>
                        </div>
                    </div>
                    
                    <!-- Azure AI-900 -->
                    <div onclick="selectCert('azure')" 
                        class="cert-card bg-white rounded-xl shadow-md p-6 cursor-pointer card-hover border-2 border-transparent"
                        data-cert="azure">
                        <div class="flex items-center justify-between mb-4">
                            <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center text-2xl">â“‚ï¸</div>
                            <span class="px-2 py-1 bg-yellow-100 text-yellow-700 text-xs rounded-full font-medium">ä¸­ç´š</span>
                        </div>
                        <h3 class="font-bold text-lg mb-1">Microsoft AI-900</h3>
                        <p class="text-gray-500 text-sm mb-4">Azure AI åŸºç¤èªè­‰</p>
                        <div class="flex justify-between text-sm">
                            <span class="text-gray-400">ğŸ“ <span class="azure-count">--</span> é¡Œ</span>
                            <span class="text-yellow-600">åŠæ ¼ 70%</span>
                        </div>
                    </div>
                    
                    <!-- iPAS -->
                    <div onclick="selectCert('ipas')" 
                        class="cert-card bg-white rounded-xl shadow-md p-6 cursor-pointer card-hover border-2 border-transparent"
                        data-cert="ipas">
                        <div class="flex items-center justify-between mb-4">
                            <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center text-2xl">ğŸ›¡ï¸</div>
                            <span class="px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full font-medium">åˆ/ä¸­ç´š</span>
                        </div>
                        <h3 class="font-bold text-lg mb-1">iPAS è³‡å®‰å·¥ç¨‹å¸«</h3>
                        <p class="text-gray-500 text-sm mb-4">ç¶“æ¿Ÿéƒ¨è³‡è¨Šå®‰å…¨å·¥ç¨‹å¸«</p>
                        <div class="flex justify-between text-sm">
                            <span class="text-gray-400">ğŸ“ <span class="ipas-count">--</span> é¡Œ</span>
                            <span class="text-blue-600">åŠæ ¼ 60%</span>
                        </div>
                    </div>
                </div>
                
                <!-- Settings -->
                <div id="settingsSection" class="bg-white rounded-xl shadow-md p-6 hidden">
                    <h3 class="font-bold text-lg mb-4">âš™ï¸ è€ƒè©¦è¨­å®š</h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">é¡Œç›®æ•¸é‡</label>
                            <select id="countSelect" class="w-full border rounded-lg px-4 py-2">
                                <option value="10">10 é¡Œï¼ˆå¿«é€Ÿç·´ç¿’ï¼‰</option>
                                <option value="20" selected>20 é¡Œï¼ˆæ¨™æº–ç·´ç¿’ï¼‰</option>
                                <option value="50">50 é¡Œï¼ˆæ¨¡æ“¬è€ƒè©¦ï¼‰</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">è€ƒè©¦æ¨¡å¼</label>
                            <select id="modeSelect" class="w-full border rounded-lg px-4 py-2">
                                <option value="practice">ç·´ç¿’æ¨¡å¼ï¼ˆå³æ™‚è§£ç­”ï¼‰</option>
                                <option value="exam">è€ƒè©¦æ¨¡å¼ï¼ˆæœ€å¾Œäº¤å·ï¼‰</option>
                            </select>
                        </div>
                        <div class="flex items-end">
                            <button onclick="startExam()" class="w-full bg-blue-600 text-white py-2 px-4 rounded-lg font-medium hover:bg-blue-700">
                                é–‹å§‹è€ƒè©¦ ğŸš€
                            </button>
                        </div>
                    </div>
                    <div id="selectedCertInfo" class="mt-4 p-3 bg-blue-50 rounded-lg">
                        <span class="text-gray-600">å·²é¸æ“‡ï¼š</span>
                        <span id="selectedCertName" class="font-bold text-blue-600"></span>
                    </div>
                </div>
            </section>

            <!-- Exam Area -->
            <section id="examArea" class="hidden">
                <div class="bg-white rounded-xl shadow-md p-6">
                    <!-- Progress -->
                    <div class="flex items-center justify-between mb-4">
                        <div class="flex items-center space-x-2">
                            <span id="examCertBadge" class="px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium"></span>
                            <span id="examModeBadge" class="px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs"></span>
                        </div>
                        <div class="text-gray-500">
                            <span id="progressText">1 / 20</span>
                        </div>
                    </div>
                    
                    <!-- Progress Bar -->
                    <div class="w-full bg-gray-200 rounded-full h-2 mb-6">
                        <div id="progressBar" class="bg-blue-600 h-2 rounded-full transition-all" style="width: 5%"></div>
                    </div>
                    
                    <!-- Question -->
                    <div class="mb-6">
                        <p id="questionText" class="text-lg text-gray-800 leading-relaxed"></p>
                    </div>
                    
                    <!-- Options -->
                    <div id="optionsContainer" class="space-y-3 mb-6"></div>
                    
                    <!-- Explanation -->
                    <div id="explanationArea" class="hidden mb-6 p-4 bg-gray-50 rounded-lg">
                        <h4 class="font-bold text-gray-700 mb-2">ğŸ“ è§£æ</h4>
                        <p id="explanationText" class="text-gray-600"></p>
                    </div>
                    
                    <!-- Navigation -->
                    <div class="flex justify-between">
                        <button onclick="prevQuestion()" id="prevBtn" class="px-4 py-2 border border-gray-300 rounded-lg text-gray-600 hover:bg-gray-50" disabled>
                            â† ä¸Šä¸€é¡Œ
                        </button>
                        <button onclick="nextQuestion()" id="nextBtn" class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">
                            ä¸‹ä¸€é¡Œ â†’
                        </button>
                    </div>
                </div>
            </section>

            <!-- Results Area -->
            <section id="resultsArea" class="hidden">
                <div class="bg-white rounded-xl shadow-md p-8 text-center">
                    <div class="text-6xl mb-4" id="resultEmoji">ğŸ‰</div>
                    <h2 class="text-2xl font-bold text-gray-800 mb-2">è€ƒè©¦å®Œæˆï¼</h2>
                    <div class="text-5xl font-bold mb-2" id="scoreDisplay">80%</div>
                    <p class="text-gray-500 mb-2" id="scoreDetail">ç­”å° 16 / 20 é¡Œ</p>
                    <p class="mb-6" id="passStatus"></p>
                    
                    <div class="grid grid-cols-2 gap-4 max-w-md mx-auto mb-6">
                        <div class="p-4 bg-green-50 rounded-lg">
                            <div class="text-2xl font-bold text-green-600" id="correctCount">16</div>
                            <div class="text-sm text-green-700">ç­”å°</div>
                        </div>
                        <div class="p-4 bg-red-50 rounded-lg">
                            <div class="text-2xl font-bold text-red-600" id="wrongCount">4</div>
                            <div class="text-sm text-red-700">ç­”éŒ¯</div>
                        </div>
                    </div>
                    
                    <div class="flex justify-center space-x-4">
                        <button onclick="reviewAnswers()" class="px-6 py-2 border border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50">
                            æŸ¥çœ‹è§£æ
                        </button>
                        <button onclick="resetExam()" class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">
                            å†è€ƒä¸€æ¬¡
                        </button>
                    </div>
                </div>
            </section>
        </main>

        <footer class="bg-gray-800 text-gray-400 py-6 mt-8">
            <div class="container mx-auto px-4 text-center">
                <p>Â© 2025 åŒ—æ–—æ•¸ä½å·¥ä½œå®¤</p>
            </div>
        </footer>
    </div>

    <script>
        // ==========================================
        // åŒ—æ–—æ•™è‚² AI è­‰ç…§è€ƒè©¦ v2.0 (API æ•´åˆç‰ˆ)
        // ==========================================
        
        const API_BASE = 'https://beidou-edu-server-1.onrender.com/api';
        
        // è­‰ç…§é…ç½®
        const certConfig = {
            google: { name: 'Google AI Essentials', pass: 80, table: 'ai_cert_questions', filter: "cert_id = 'GOOGLE'" },
            aws: { name: 'AWS AI Practitioner', pass: 70, table: 'ai_cert_questions', filter: "cert_id = 'AWS'" },
            azure: { name: 'Microsoft AI-900', pass: 70, table: 'ai_cert_questions', filter: "cert_id = 'AZURE'" },
            ipas: { name: 'iPAS è³‡å®‰å·¥ç¨‹å¸«', pass: 60, table: 'ipas_ise_questions', filter: '1=1' }
        };
        
        // State
        let state = {
            selectedCert: null,
            questions: [],
            currentIndex: 0,
            answers: [],
            score: 0,
            mode: 'practice'
        };

        // åˆå§‹åŒ–
        async function init() {
            await loadStats();
            checkUrlParams();
        }

        // è¼‰å…¥çµ±è¨ˆ
        async function loadStats() {
            try {
                const res = await fetch(`${API_BASE}/cert/exams`);
                const data = await res.json();
                
                if (data.success) {
                    document.querySelector('.google-count').textContent = data.data.google || 71;
                    document.querySelector('.aws-count').textContent = data.data.aws || 234;
                    document.querySelector('.azure-count').textContent = data.data.azure || 162;
                    document.querySelector('.ipas-count').textContent = data.data.ipas || 510;
                    
                    const total = (data.data.google || 71) + (data.data.aws || 234) + 
                                  (data.data.azure || 162) + (data.data.ipas || 510);
                    document.getElementById('totalQuestions').textContent = total;
                }
            } catch (err) {
                // ä½¿ç”¨é è¨­å€¼
                document.querySelector('.google-count').textContent = '71';
                document.querySelector('.aws-count').textContent = '234';
                document.querySelector('.azure-count').textContent = '162';
                document.querySelector('.ipas-count').textContent = '510';
                document.getElementById('totalQuestions').textContent = '977';
            }
            
            document.getElementById('loadingSection').classList.add('hidden');
            document.getElementById('certSection').classList.remove('hidden');
        }

        // æª¢æŸ¥ URL åƒæ•¸
        function checkUrlParams() {
            const params = new URLSearchParams(window.location.search);
            const cert = params.get('cert');
            if (cert) {
                selectCert(cert.toLowerCase());
            }
        }

        // é¸æ“‡è­‰ç…§
        function selectCert(certId) {
            state.selectedCert = certId;
            
            // GA äº‹ä»¶è¿½è¹¤ - é¸æ“‡è­‰ç…§
            gtag('event', 'select_cert', {
                'event_category': 'cert',
                'event_label': certId
            });
            
            document.querySelectorAll('.cert-card').forEach(card => {
                card.classList.remove('border-blue-500', 'bg-blue-50');
            });
            
            const selectedCard = document.querySelector(`[data-cert="${certId}"]`);
            if (selectedCard) {
                selectedCard.classList.add('border-blue-500', 'bg-blue-50');
            }
            
            document.getElementById('settingsSection').classList.remove('hidden');
            document.getElementById('selectedCertName').textContent = certConfig[certId]?.name || certId;
        }

        // é–‹å§‹è€ƒè©¦
        async function startExam() {
            if (!state.selectedCert) {
                alert('è«‹å…ˆé¸æ“‡è­‰ç…§é¡å‹ï¼');
                return;
            }
            
            const count = parseInt(document.getElementById('countSelect').value);
            state.mode = document.getElementById('modeSelect').value;
            
            // GA äº‹ä»¶è¿½è¹¤ - é–‹å§‹è­‰ç…§è€ƒè©¦
            gtag('event', 'start_cert_exam', {
                'event_category': 'cert',
                'event_label': state.selectedCert,
                'value': parseInt(count)
            });
            
            // å¾ API ç²å–é¡Œç›®
            try {
                const res = await fetch(`${API_BASE}/cert/${state.selectedCert}/questions?limit=${count}`);
                const data = await res.json();
                
                if (data.success && data.data.length > 0) {
                    state.questions = data.data;
                } else {
                    throw new Error('No questions');
                }
            } catch (err) {
                // ä½¿ç”¨å‚™æ´é¡Œç›®
                state.questions = generateFallbackQuestions(count);
            }
            
            state.currentIndex = 0;
            state.answers = new Array(state.questions.length).fill(null);
            state.score = 0;
            
            // åˆ‡æ›ä»‹é¢
            document.getElementById('certSection').classList.add('hidden');
            document.getElementById('examArea').classList.remove('hidden');
            document.getElementById('resultsArea').classList.add('hidden');
            
            document.getElementById('examCertBadge').textContent = certConfig[state.selectedCert]?.name || state.selectedCert;
            document.getElementById('examModeBadge').textContent = state.mode === 'practice' ? 'ç·´ç¿’æ¨¡å¼' : 'è€ƒè©¦æ¨¡å¼';
            
            renderQuestion();
        }

        // å‚™æ´é¡Œç›®
        function generateFallbackQuestions(count) {
            const questions = [];
            const certName = certConfig[state.selectedCert]?.name || 'AI';
            
            for (let i = 0; i < count; i++) {
                questions.push({
                    id: i + 1,
                    question: `[${certName}] é€™æ˜¯æ¨¡æ“¬é¡Œç›® ${i + 1}ï¼Œæ­£ç¢ºç­”æ¡ˆæ˜¯ A`,
                    options: ['æ­£ç¢ºç­”æ¡ˆ', 'éŒ¯èª¤é¸é … B', 'éŒ¯èª¤é¸é … C', 'éŒ¯èª¤é¸é … D'],
                    answer: 0,
                    explanation: 'é€™æ˜¯æ¨¡æ“¬é¡Œç›®çš„è§£æèªªæ˜'
                });
            }
            return questions;
        }

        // æ¸²æŸ“é¡Œç›®
        function renderQuestion() {
            const q = state.questions[state.currentIndex];
            const total = state.questions.length;
            
            document.getElementById('progressText').textContent = `${state.currentIndex + 1} / ${total}`;
            document.getElementById('progressBar').style.width = `${((state.currentIndex + 1) / total) * 100}%`;
            document.getElementById('questionText').textContent = q.question;
            
            const container = document.getElementById('optionsContainer');
            const answered = state.answers[state.currentIndex] !== null;
            const showAnswer = state.mode === 'practice' && answered;
            
            const options = Array.isArray(q.options) ? q.options : JSON.parse(q.options || '[]');
            
            container.innerHTML = options.map((opt, i) => {
                let classes = 'option-btn w-full p-4 text-left border-2 rounded-lg cursor-pointer';
                
                if (showAnswer) {
                    classes += ' answered';
                    if (i === q.answer) {
                        classes += ' correct';
                    } else if (i === state.answers[state.currentIndex]) {
                        classes += ' wrong';
                    }
                } else if (state.answers[state.currentIndex] === i) {
                    classes += ' selected';
                }
                
                return `
                    <button onclick="selectOption(${i})" class="${classes}" ${showAnswer ? '' : ''}>
                        <span class="inline-block w-8 h-8 rounded-full bg-gray-100 text-center leading-8 mr-3 font-medium">
                            ${String.fromCharCode(65 + i)}
                        </span>
                        ${opt}
                        ${showAnswer && i === q.answer ? ' âœ“' : ''}
                        ${showAnswer && i === state.answers[state.currentIndex] && i !== q.answer ? ' âœ—' : ''}
                    </button>
                `;
            }).join('');
            
            // é¡¯ç¤ºè§£æ
            const explanationArea = document.getElementById('explanationArea');
            if (showAnswer) {
                explanationArea.classList.remove('hidden');
                document.getElementById('explanationText').textContent = q.explanation || 'æš«ç„¡è§£æ';
            } else {
                explanationArea.classList.add('hidden');
            }
            
            document.getElementById('prevBtn').disabled = state.currentIndex === 0;
            document.getElementById('nextBtn').textContent = state.currentIndex === total - 1 ? 'å®Œæˆè€ƒè©¦' : 'ä¸‹ä¸€é¡Œ â†’';
        }

        function selectOption(optionIndex) {
            if (state.mode === 'practice' && state.answers[state.currentIndex] !== null) {
                return;
            }
            
            state.answers[state.currentIndex] = optionIndex;
            const q = state.questions[state.currentIndex];
            
            if (state.mode === 'exam') {
                // è€ƒè©¦æ¨¡å¼ï¼šåªæ¨™è¨˜é¸æ“‡
                renderQuestion();
            } else {
                // ç·´ç¿’æ¨¡å¼ï¼šç«‹å³åˆ¤åˆ†
                if (optionIndex === q.answer) {
                    state.score++;
                }
                renderQuestion();
            }
        }

        function prevQuestion() {
            if (state.currentIndex > 0) {
                state.currentIndex--;
                renderQuestion();
            }
        }

        function nextQuestion() {
            if (state.answers[state.currentIndex] === null) {
                alert('è«‹å…ˆä½œç­”ï¼');
                return;
            }
            
            if (state.currentIndex < state.questions.length - 1) {
                state.currentIndex++;
                renderQuestion();
            } else {
                finishExam();
            }
        }

        function finishExam() {
            // è€ƒè©¦æ¨¡å¼ï¼šæœ€å¾Œè¨ˆåˆ†
            if (state.mode === 'exam') {
                state.score = 0;
                state.questions.forEach((q, i) => {
                    if (state.answers[i] === q.answer) {
                        state.score++;
                    }
                });
            }
            
            const total = state.questions.length;
            const correct = state.score;
            const wrong = total - correct;
            const percentage = Math.round((correct / total) * 100);
            const passLine = certConfig[state.selectedCert]?.pass || 70;
            const passed = percentage >= passLine;
            
            // GA äº‹ä»¶è¿½è¹¤ - å®Œæˆè­‰ç…§è€ƒè©¦
            gtag('event', 'finish_cert_exam', {
                'event_category': 'cert',
                'event_label': state.selectedCert,
                'value': percentage
            });
            gtag('event', passed ? 'cert_passed' : 'cert_failed', {
                'event_category': 'cert',
                'event_label': state.selectedCert
            });
            
            document.getElementById('resultEmoji').textContent = passed ? 'ğŸ‰' : 'ğŸ’ª';
            document.getElementById('scoreDisplay').textContent = `${percentage}%`;
            document.getElementById('scoreDisplay').className = `text-5xl font-bold mb-2 ${passed ? 'text-green-600' : 'text-red-600'}`;
            document.getElementById('scoreDetail').textContent = `ç­”å° ${correct} / ${total} é¡Œ`;
            document.getElementById('passStatus').innerHTML = passed 
                ? `<span class="text-green-600 font-bold">âœ“ é€šéï¼åŠæ ¼ç·š ${passLine}%</span>` 
                : `<span class="text-red-600 font-bold">âœ— æœªé€šéï¼ŒåŠæ ¼ç·š ${passLine}%</span>`;
            document.getElementById('correctCount').textContent = correct;
            document.getElementById('wrongCount').textContent = wrong;
            
            document.getElementById('examArea').classList.add('hidden');
            document.getElementById('resultsArea').classList.remove('hidden');
        }

        function resetExam() {
            document.getElementById('certSection').classList.remove('hidden');
            document.getElementById('examArea').classList.add('hidden');
            document.getElementById('resultsArea').classList.add('hidden');
        }

        function reviewAnswers() {
            state.currentIndex = 0;
            state.mode = 'practice'; // åˆ‡æ›åˆ°ç·´ç¿’æ¨¡å¼é¡¯ç¤ºç­”æ¡ˆ
            document.getElementById('resultsArea').classList.add('hidden');
            document.getElementById('examArea').classList.remove('hidden');
            document.getElementById('examModeBadge').textContent = 'æª¢è¨æ¨¡å¼';
            renderQuestion();
        }

        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
