<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XTF å­¸æ¸¬èª²ç¨‹ - åŒ—æ–—æ•™è‚²</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans TC', sans-serif; }
        .gradient-bg { background: linear-gradient(135deg, #1e3a5f 0%, #0f1729 100%); }
        .card-hover:hover { transform: translateY(-4px); box-shadow: 0 12px 24px rgba(0,0,0,0.3); }
        .subject-icon { font-size: 2.5rem; }
    </style>
</head>
<body class="gradient-bg min-h-screen text-white">
    <!-- å°èˆª -->
    <nav class="bg-slate-900/80 backdrop-blur-sm fixed w-full z-50">
        <div class="max-w-7xl mx-auto px-4 py-3 flex justify-between items-center">
            <a href="index.html" class="text-xl font-bold text-amber-400">â­ åŒ—æ–—æ•™è‚²</a>
            <div class="flex gap-4">
                <a href="index.html" class="hover:text-amber-400">é¦–é </a>
                <a href="gsat_courses.html" class="text-amber-400">å­¸æ¸¬èª²ç¨‹</a>
                <a href="courses.html" class="hover:text-amber-400">AIèªè­‰</a>
                <a href="dashboard.html" class="hover:text-amber-400">å­¸ç¿’ä¸­å¿ƒ</a>
            </div>
        </div>
    </nav>

    <!-- ä¸»å…§å®¹ -->
    <main class="pt-20 pb-12 px-4">
        <div class="max-w-7xl mx-auto">
            <!-- æ¨™é¡Œå€ -->
            <div class="text-center mb-12">
                <h1 class="text-4xl font-bold mb-4">ğŸ“š XTF å­¸æ¸¬èª²ç¨‹</h1>
                <p class="text-slate-300 text-lg">æ¶ˆ-æ‹“-è çµæ§‹åŒ–å­¸ç¿’æ³• | 10 ç§‘å®Œæ•´å‚™è€ƒ</p>
                <div class="flex justify-center gap-8 mt-6">
                    <div class="text-center">
                        <div class="text-3xl font-bold text-amber-400" id="total-questions">-</div>
                        <div class="text-slate-400">ç²¾é¸é¡Œç›®</div>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl font-bold text-green-400" id="total-nodes">-</div>
                        <div class="text-slate-400">çŸ¥è­˜ç¯€é»</div>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl font-bold text-blue-400" id="total-flashcards">-</div>
                        <div class="text-slate-400">XTF é–ƒå¡</div>
                    </div>
                </div>
            </div>

            <!-- èª²ç¨‹å¡ç‰‡ -->
            <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4" id="courses-grid">
                <!-- å‹•æ…‹è¼‰å…¥ -->
            </div>

            <!-- XTF èªªæ˜ -->
            <div class="mt-16 bg-slate-800/50 rounded-2xl p-8">
                <h2 class="text-2xl font-bold mb-6 text-center">ğŸ¯ ä»€éº¼æ˜¯ XTF å­¸ç¿’æ³•ï¼Ÿ</h2>
                <div class="grid md:grid-cols-3 gap-6">
                    <div class="text-center p-4">
                        <div class="text-4xl mb-3">ğŸ”»</div>
                        <h3 class="text-xl font-bold text-red-400 mb-2">æ¶ˆ Simplify</h3>
                        <p class="text-slate-300">ç†è§£æœ¬è³ªï¼Œé™ç¶­åˆ°èƒ½æ‡‚</p>
                    </div>
                    <div class="text-center p-4">
                        <div class="text-4xl mb-3">ğŸ”€</div>
                        <h3 class="text-xl font-bold text-yellow-400 mb-2">æ‹“ Transform</h3>
                        <p class="text-slate-300">å»ºç«‹é€£çµï¼Œçµæ§‹åŒ–è¨˜æ†¶</p>
                    </div>
                    <div class="text-center p-4">
                        <div class="text-4xl mb-3">ğŸ”º</div>
                        <h3 class="text-xl font-bold text-green-400 mb-2">è Integrate</h3>
                        <p class="text-slate-300">æ‡‰ç”¨ç·´ç¿’ï¼Œèæœƒè²«é€š</p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        const API_BASE = 'https://beidou-edu-server-1.onrender.com';
        
        // ç§‘ç›®é…ç½®
        const subjects = [
            { id: 'math', name: 'æ•¸å­¸', icon: 'ğŸ“', color: 'from-blue-500 to-blue-700' },
            { id: 'physics', name: 'ç‰©ç†', icon: 'âš¡', color: 'from-yellow-500 to-orange-600' },
            { id: 'chemistry', name: 'åŒ–å­¸', icon: 'ğŸ§ª', color: 'from-green-500 to-teal-600' },
            { id: 'biology', name: 'ç”Ÿç‰©', icon: 'ğŸ§¬', color: 'from-pink-500 to-rose-600' },
            { id: 'earth_science', name: 'åœ°çƒç§‘å­¸', icon: 'ğŸŒ', color: 'from-cyan-500 to-blue-600' },
            { id: 'chinese', name: 'åœ‹æ–‡', icon: 'ğŸ“œ', color: 'from-red-500 to-red-700' },
            { id: 'english', name: 'è‹±æ–‡', icon: 'ğŸ”¤', color: 'from-purple-500 to-indigo-600' },
            { id: 'history', name: 'æ­·å²', icon: 'ğŸ›ï¸', color: 'from-amber-500 to-yellow-600' },
            { id: 'geography', name: 'åœ°ç†', icon: 'ğŸ—ºï¸', color: 'from-emerald-500 to-green-600' },
            { id: 'civics', name: 'å…¬æ°‘', icon: 'âš–ï¸', color: 'from-slate-500 to-slate-700' },
        ];

        // è¼‰å…¥çµ±è¨ˆ
        async function loadStats() {
            try {
                const res = await fetch(`${API_BASE}/api/flashcards/stats/subjects`);
                const data = await res.json();
                
                if (data.success) {
                    const stats = {};
                    let totalFlashcards = 0;
                    data.data.forEach(s => {
                        stats[s.subject_id] = s.count;
                        totalFlashcards += s.count;
                    });
                    
                    document.getElementById('total-flashcards').textContent = totalFlashcards;
                    document.getElementById('total-questions').textContent = '7,981';
                    document.getElementById('total-nodes').textContent = '1,536';
                    
                    renderCourses(stats);
                }
            } catch (e) {
                console.error('è¼‰å…¥å¤±æ•—:', e);
                renderCourses({});
            }
        }

        // æ¸²æŸ“èª²ç¨‹å¡ç‰‡
        function renderCourses(stats) {
            const grid = document.getElementById('courses-grid');
            grid.innerHTML = subjects.map(s => `
                <a href="quiz_ui_v2.html?subject=${s.id}" 
                   class="bg-gradient-to-br ${s.color} rounded-xl p-6 text-center card-hover transition-all duration-300 cursor-pointer">
                    <div class="subject-icon mb-3">${s.icon}</div>
                    <h3 class="text-lg font-bold mb-2">${s.name}</h3>
                    <div class="text-sm opacity-80">${stats[s.id] || 0} å¼µé–ƒå¡</div>
                    <div class="mt-3 bg-white/20 rounded-full py-1 px-3 text-sm">
                        é–‹å§‹å­¸ç¿’ â†’
                    </div>
                </a>
            `).join('');
        }

        // åˆå§‹åŒ–
        loadStats();
    </script>
</body>
</html>
