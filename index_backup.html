<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åŒ—æ–—æ•™è‚² - å­¸æ¸¬å‚™è€ƒç³»çµ±</title>
    <meta name="description" content="20,217é“Aç´šé¡Œç›® Ã— 771å€‹XTFçŸ¥è­˜ç¯€é» Ã— 10ç§‘å®Œæ•´è¦†è“‹ã€‚ä¸€å€‹çˆ¸çˆ¸ç‚ºé«˜äºŒå…’å­åšçš„å­¸æ¸¬å‚™è€ƒç³»çµ±ï¼ŒXTFå­¸ç¿’æ³•è®“ä½ éŒ¯äº†å°±çŸ¥é“è£œå“ªè£¡ã€‚">
    
    <!-- PWA -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#8b5cf6">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="åŒ—æ–—æ•™è‚²">
    <link rel="apple-touch-icon" href="icons/icon-192.png">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans TC', sans-serif; }
        .gradient-text { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .card-hover { transition: all 0.3s ease; }
        .card-hover:hover { transform: translateY(-4px); box-shadow: 0 20px 40px rgba(0,0,0,0.3); }
        .pulse-glow { animation: pulse-glow 2s ease-in-out infinite; }
        @keyframes pulse-glow { 0%, 100% { box-shadow: 0 0 20px rgba(102, 126, 234, 0.4); } 50% { box-shadow: 0 0 40px rgba(102, 126, 234, 0.8); } }
        .stat-number { transition: all 0.5s ease; }
    </style>
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-8X0VB6K9G7"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-8X0VB6K9G7');
    </script>
</head>
<body class="bg-gray-900 text-white min-h-screen">
    <!-- Hero Section -->
    <section class="relative overflow-hidden">
        <div class="absolute inset-0 bg-gradient-to-br from-gray-900 via-purple-900/20 to-gray-900"></div>
        <div class="relative max-w-6xl mx-auto px-4 py-20">
            <div class="text-center">
                <h1 class="text-4xl md:text-6xl font-bold mb-6">
                    <span class="gradient-text">åŒ—æ–—æ•™è‚²</span>
                </h1>
                <p class="text-xl md:text-2xl text-gray-300 mb-4">
                    ä¸€å€‹çˆ¸çˆ¸ç‚ºé«˜äºŒå…’å­åšçš„å­¸æ¸¬å‚™è€ƒç³»çµ±
                </p>
                <p class="text-gray-400 mb-8 max-w-2xl mx-auto">
                    XTF å­¸ç¿’æ³•ï¼šæ¶ˆåŒ–ç†è§£ â†’ æ‹“å±•é€£çµ â†’ èæœƒè²«é€š<br>
                    æ¯é“é¡Œç›®é€£çµçŸ¥è­˜é»ï¼ŒéŒ¯äº†çŸ¥é“è£œå“ªè£¡
                </p>
                
                <!-- çµ±è¨ˆæ•¸å­— - å‹•æ…‹è¼‰å…¥ -->
                <div class="flex justify-center gap-8 md:gap-16 mb-12">
                    <div class="text-center">
                        <div id="stat-questions" class="text-3xl md:text-4xl font-bold text-purple-400 stat-number">--</div>
                        <div class="text-gray-400 text-sm">é“é¡Œç›®</div>
                    </div>
                    <div class="text-center">
                        <div id="stat-nodes" class="text-3xl md:text-4xl font-bold text-green-400 stat-number">--</div>
                        <div class="text-gray-400 text-sm">å€‹çŸ¥è­˜ç¯€é»</div>
                    </div>
                    <div class="text-center">
                        <div id="stat-subjects" class="text-3xl md:text-4xl font-bold text-blue-400 stat-number">--</div>
                        <div class="text-gray-400 text-sm">ç§‘å®Œæ•´è¦†è“‹</div>
                    </div>
                </div>
                
                <!-- CTA æŒ‰éˆ• -->
                <div class="flex flex-col sm:flex-row gap-4 justify-center">
                    <a href="quiz_ui.html" class="inline-block bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white font-bold py-4 px-8 rounded-full text-lg transition pulse-glow">
                        ğŸš€ ç«‹å³é–‹å§‹ç·´ç¿’
                    </a>
                    <a href="xtf_starmap.html" class="inline-block border border-purple-500 text-purple-400 hover:bg-purple-500/20 font-bold py-4 px-8 rounded-full text-lg transition">
                        ğŸŒŸ æ¢ç´¢çŸ¥è­˜æ˜Ÿåœ–
                    </a>
                </div>
                
                <!-- ç™»å…¥æç¤º -->
                <div id="authSection" class="mt-8">
                    <p class="text-gray-500 text-sm mb-2">ç™»å…¥å¾Œå¯è¿½è¹¤å­¸ç¿’é€²åº¦ã€è§£é–æˆå°±</p>
                    <a href="auth.html" id="loginBtn" class="text-purple-400 hover:text-purple-300 font-medium">
                        ğŸ‘¤ ç™»å…¥ / è¨»å†Š
                    </a>
                    <a href="dashboard.html" id="dashboardBtn" class="hidden text-green-400 hover:text-green-300 font-medium">
                        ğŸ“Š é€²å…¥å„€è¡¨æ¿
                    </a>
                </div>
            </div>
        </div>
        
        <!-- æµ®å‹•å°èˆª (ç™»å…¥å¾Œé¡¯ç¤º) -->
        <div id="floatNav" class="hidden fixed top-4 right-4 z-50">
            <div class="bg-gray-800/90 backdrop-blur rounded-full px-4 py-2 flex items-center gap-3 border border-white/10">
                <span id="navCoins" class="text-yellow-400 text-sm">ğŸª™ 0</span>
                <span id="navLevel" class="bg-purple-600 px-2 py-0.5 rounded text-xs">Lv.1</span>
                <a href="dashboard.html" class="text-gray-400 hover:text-white text-sm">å„€è¡¨æ¿</a>
            </div>
        </div>
    </section>

    <!-- ç‰¹è‰²å€å¡Š -->
    <section class="py-16 bg-gray-800/50">
        <div class="max-w-6xl mx-auto px-4">
            <h2 class="text-2xl md:text-3xl font-bold text-center mb-12">ç‚ºä»€éº¼é¸æ“‡åŒ—æ–—ï¼Ÿ</h2>
            <div class="grid md:grid-cols-3 gap-8">
                <div class="bg-gray-800 rounded-2xl p-6 card-hover">
                    <div class="text-4xl mb-4">ğŸ¯</div>
                    <h3 class="text-xl font-bold mb-2">ç²¾æº–å®šä½å¼±é»</h3>
                    <p class="text-gray-400">æ¯é“é¡Œç›®é€£çµçŸ¥è­˜ç¯€é»ï¼Œç­”éŒ¯ç«‹åˆ»çŸ¥é“è¦è£œå“ªå€‹è§€å¿µï¼Œä¸å†ç›²ç›®åˆ·é¡Œã€‚</p>
                </div>
                <div class="bg-gray-800 rounded-2xl p-6 card-hover">
                    <div class="text-4xl mb-4">ğŸ§ </div>
                    <h3 class="text-xl font-bold mb-2">XTF å­¸ç¿’æ³•</h3>
                    <p class="text-gray-400">æ¶ˆ-æ‹“-èä¸‰éšæ®µå­¸ç¿’ï¼šå…ˆç†è§£ã€å†é€£çµã€æœ€å¾Œæ‡‰ç”¨ã€‚ç§‘å­¸åŒ–çš„è¨˜æ†¶æ–¹æ³•ã€‚</p>
                </div>
                <div class="bg-gray-800 rounded-2xl p-6 card-hover">
                    <div class="text-4xl mb-4">ğŸ“Š</div>
                    <h3 class="text-xl font-bold mb-2">è¦–è¦ºåŒ–çŸ¥è­˜åœ–è­œ</h3>
                    <p class="text-gray-400">ç”¨æ˜Ÿåœ–å‘ˆç¾çŸ¥è­˜é—œè¯ï¼Œçœ‹æ¸…æ¥šå“ªäº›å·²æŒæ¡ã€å“ªäº›é‚„éœ€åŠ å¼·ã€‚</p>
                </div>
            </div>
        </div>
    </section>

    <!-- ç§‘ç›®ä¸€è¦½ -->
    <section class="py-16">
        <div class="max-w-6xl mx-auto px-4">
            <h2 class="text-2xl md:text-3xl font-bold text-center mb-12">å®Œæ•´ç§‘ç›®è¦†è“‹</h2>
            <div id="subject-grid" class="grid grid-cols-2 md:grid-cols-5 gap-4">
                <!-- å‹•æ…‹è¼‰å…¥ç§‘ç›® -->
                <div class="text-center text-gray-500">è¼‰å…¥ä¸­...</div>
            </div>
        </div>
    </section>

    <!-- åŠŸèƒ½å…¥å£ -->
    <section class="py-16 bg-gray-800/50">
        <div class="max-w-6xl mx-auto px-4">
            <h2 class="text-2xl md:text-3xl font-bold text-center mb-12">é–‹å§‹å­¸ç¿’</h2>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                <a href="quiz_ui.html" class="bg-gray-800 rounded-2xl p-6 card-hover block">
                    <div class="text-3xl mb-3">ğŸ“</div>
                    <h3 class="font-bold mb-1">é¡Œåº«ç·´ç¿’</h3>
                    <p class="text-gray-400 text-sm">éš¨æ©ŸæŠ½é¡Œæˆ–é¸ç§‘ç·´ç¿’</p>
                </a>
                <a href="xtf_starmap.html" class="bg-gray-800 rounded-2xl p-6 card-hover block">
                    <div class="text-3xl mb-3">ğŸŒŸ</div>
                    <h3 class="font-bold mb-1">çŸ¥è­˜æ˜Ÿåœ–</h3>
                    <p class="text-gray-400 text-sm">è¦–è¦ºåŒ–çŸ¥è­˜é—œè¯</p>
                </a>
                <a href="xtf_flashcard.html" class="bg-gray-800 rounded-2xl p-6 card-hover block">
                    <div class="text-3xl mb-3">ğŸƒ</div>
                    <h3 class="font-bold mb-1">å­—å¡è¤‡ç¿’</h3>
                    <p class="text-gray-400 text-sm">XTF æ¶ˆæ‹“èè¨˜æ†¶æ³•</p>
                </a>
                <a href="class.html" class="bg-gray-800 rounded-2xl p-6 card-hover block">
                    <div class="text-3xl mb-3">ğŸ“š</div>
                    <h3 class="font-bold mb-1">ç­ç´šç®¡ç†</h3>
                    <p class="text-gray-400 text-sm">æ•™å¸«æ´¾ä½œæ¥­ã€å­¸ç”Ÿæ’è¡Œæ¦œ</p>
                </a>
                <a href="courses.html" class="bg-gray-800 rounded-2xl p-6 card-hover block border border-yellow-500/30">
                    <div class="text-3xl mb-3">ğŸ“</div>
                    <h3 class="font-bold mb-1">AI èªè­‰èª²ç¨‹</h3>
                    <p class="text-gray-400 text-sm">Google/AWS/Azure èªè­‰å‚™è€ƒ</p>
                </a>
                <a href="learning_path.html" class="bg-gray-800 rounded-2xl p-6 card-hover block">
                    <div class="text-3xl mb-3">ğŸ›¤ï¸</div>
                    <h3 class="font-bold mb-1">å­¸ç¿’è·¯å¾‘</h3>
                    <p class="text-gray-400 text-sm">å€‹äººåŒ–å­¸ç¿’è¦åŠƒ</p>
                </a>
            </div>
        </div>
    </section>

    <!-- è¨‚é–±æ–¹æ¡ˆ -->
    <section class="py-16">
        <div class="max-w-4xl mx-auto px-4">
            <h2 class="text-2xl md:text-3xl font-bold text-center mb-12">è¨‚é–±æ–¹æ¡ˆ</h2>
            <div class="grid md:grid-cols-3 gap-6">
                <!-- å…è²»æ–¹æ¡ˆ -->
                <div class="bg-gray-800 rounded-2xl p-6 card-hover">
                    <div class="text-center">
                        <div class="text-3xl font-bold mb-2">å…è²»</div>
                        <div class="text-gray-400 mb-4">ç›´æ¥ç”¨</div>
                        <ul class="text-gray-400 text-sm space-y-2 mb-6 text-left">
                            <li>âœ“ å…¨éƒ¨é¡Œåº«é«”é©—</li>
                            <li>âœ“ XTF çŸ¥è­˜é€£çµ</li>
                            <li class="text-gray-600">âœ— ä¸ä¿å­˜é€²åº¦</li>
                        </ul>
                        <a href="quiz_ui.html" class="inline-block bg-gray-700 hover:bg-gray-600 text-white py-2 px-6 rounded-full text-sm transition">é–‹å§‹ä½¿ç”¨</a>
                    </div>
                </div>
                
                <!-- æ¨™æº–æ–¹æ¡ˆ -->
                <div class="bg-gradient-to-b from-purple-900/50 to-gray-800 rounded-2xl p-6 card-hover border border-purple-500/30">
                    <div class="text-center">
                        <div class="text-xs text-purple-400 mb-2">æ¨è–¦</div>
                        <div class="text-3xl font-bold mb-2">$99<span class="text-lg text-gray-400">/æœˆ</span></div>
                        <div class="text-gray-400 mb-4">å­¸æ¸¬å®Œæ•´ç‰ˆ</div>
                        <ul class="text-gray-300 text-sm space-y-2 mb-6 text-left">
                            <li>âœ“ å®Œæ•´é¡Œåº«</li>
                            <li>âœ“ éŒ¯é¡Œæœ¬</li>
                            <li>âœ“ é€²åº¦è¿½è¹¤</li>
                        </ul>
                        <a href="#" class="inline-block bg-purple-600 hover:bg-purple-700 text-white py-2 px-6 rounded-full text-sm transition">è¨‚é–±</a>
                    </div>
                </div>
                
                <!-- é€²éšæ–¹æ¡ˆ -->
                <div class="bg-gray-800 rounded-2xl p-6 card-hover">
                    <div class="text-center">
                        <div class="text-3xl font-bold mb-2">$199<span class="text-lg text-gray-400">/æœˆ</span></div>
                        <div class="text-gray-400 mb-4">å­¸æ¸¬ + è­‰ç…§</div>
                        <ul class="text-gray-400 text-sm space-y-2 mb-6 text-left">
                            <li>âœ“ å­¸æ¸¬å…¨åŠŸèƒ½</li>
                            <li>âœ“ AI è¨ºæ–·å¼±é»</li>
                            <li>âœ“ è­‰ç…§é¡Œåº«</li>
                        </ul>
                        <a href="#" class="inline-block border border-gray-600 text-gray-300 hover:bg-gray-700 py-2 px-6 rounded-full text-sm transition">è¨‚é–±</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="py-8 border-t border-gray-800">
        <div class="max-w-6xl mx-auto px-4 text-center text-gray-500 text-sm">
            <p>åŒ—æ–—ä¸ƒæ˜Ÿæ–‡å‰µæ•¸ä½æœ‰é™å…¬å¸ Â© 2025</p>
            <p class="mt-2">ç”¨æ„›åšçš„æ•™è‚²å·¥å…· â¤ï¸</p>
            
            <!-- æ³•å¾‹é€£çµ -->
            <div class="mt-4 flex justify-center flex-wrap gap-4">
                <a href="terms.html" class="hover:text-purple-400 transition">æœå‹™æ¢æ¬¾</a>
                <a href="privacy.html" class="hover:text-purple-400 transition">éš±ç§æ”¿ç­–</a>
                <a href="refund.html" class="hover:text-purple-400 transition">é€€æ¬¾æ”¿ç­–</a>
                <a href="contact.html" class="hover:text-purple-400 transition">è¯çµ¡æˆ‘å€‘</a>
            </div>
            
            <!-- è¯çµ¡è³‡è¨Š -->
            <div class="mt-4 pt-4 border-t border-gray-700">
                <p>ğŸ“§ sanhsing@gmail.com ï½œ çµ±ç·¨ï¼š94322729</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript: å‹•æ…‹è¼‰å…¥çµ±è¨ˆ -->
    <script>
        const API_BASE = 'https://beidou-edu-server-1.onrender.com';
        
        // æ•¸å­—å‹•ç•«æ•ˆæœ
        function animateNumber(element, target, duration = 1000) {
            const start = 0;
            const startTime = performance.now();
            
            function update(currentTime) {
                const elapsed = currentTime - startTime;
                const progress = Math.min(elapsed / duration, 1);
                const easeOut = 1 - Math.pow(1 - progress, 3);
                const current = Math.floor(start + (target - start) * easeOut);
                element.textContent = current.toLocaleString();
                
                if (progress < 1) {
                    requestAnimationFrame(update);
                }
            }
            requestAnimationFrame(update);
        }
        
        // è¼‰å…¥çµ±è¨ˆæ•¸æ“š
        async function loadStats() {
            try {
                const response = await fetch(`${API_BASE}/api/stats`);
                const result = await response.json();
                
                if (result.success && result.data) {
                    const data = result.data;
                    
                    // å‹•ç•«é¡¯ç¤ºæ•¸å­—
                    animateNumber(document.getElementById('stat-questions'), data.total_questions || 20217);
                    animateNumber(document.getElementById('stat-nodes'), data.total_nodes || 771);
                    animateNumber(document.getElementById('stat-subjects'), data.total_subjects || 10, 500);
                    
                    // è¼‰å…¥ç§‘ç›®ç¶²æ ¼
                    if (data.subjects && data.subjects.length > 0) {
                        renderSubjects(data.subjects);
                    }
                } else {
                    // Fallback éœæ…‹æ•¸æ“š
                    setFallbackStats();
                }
            } catch (error) {
                console.error('Stats load error:', error);
                setFallbackStats();
            }
        }
        
        // Fallback éœæ…‹æ•¸æ“š (v12.12 è¦æ¨¡)
        function setFallbackStats() {
            animateNumber(document.getElementById('stat-questions'), 20217);
            animateNumber(document.getElementById('stat-nodes'), 771);
            animateNumber(document.getElementById('stat-subjects'), 10, 500);
            renderDefaultSubjects();
        }
        
        // æ¸²æŸ“ç§‘ç›®ç¶²æ ¼
        function renderSubjects(subjects) {
            const grid = document.getElementById('subject-grid');
            const colors = {
                'æ•¸å­¸': 'from-blue-500 to-blue-700',
                'ç‰©ç†': 'from-purple-500 to-purple-700',
                'åŒ–å­¸': 'from-green-500 to-green-700',
                'ç”Ÿç‰©': 'from-emerald-500 to-emerald-700',
                'åœ°çƒç§‘å­¸': 'from-cyan-500 to-cyan-700',
                'åœ‹æ–‡': 'from-red-500 to-red-700',
                'è‹±æ–‡': 'from-yellow-500 to-yellow-700',
                'æ­·å²': 'from-orange-500 to-orange-700',
                'åœ°ç†': 'from-teal-500 to-teal-700',
                'å…¬æ°‘': 'from-pink-500 to-pink-700'
            };
            
            grid.innerHTML = subjects.map(s => `
                <div class="bg-gradient-to-br ${colors[s.subject] || 'from-gray-500 to-gray-700'} rounded-xl p-4 text-center card-hover">
                    <div class="font-bold">${s.subject}</div>
                    <div class="text-sm opacity-80">${s.nodes || s.node_count || 0} ç¯€é»</div>
                    <div class="text-xs opacity-60">${s.questions || 0} é¡Œ</div>
                </div>
            `).join('');
        }
        
        // é è¨­ç§‘ç›® (v12.12 æ•¸æ“š)
        function renderDefaultSubjects() {
            const defaultSubjects = [
                { subject: 'æ•¸å­¸', nodes: 102, questions: 2688 },
                { subject: 'ç‰©ç†', nodes: 78, questions: 2052 },
                { subject: 'åŒ–å­¸', nodes: 72, questions: 1896 },
                { subject: 'ç”Ÿç‰©', nodes: 68, questions: 1788 },
                { subject: 'åœ°çƒç§‘å­¸', nodes: 54, questions: 1422 },
                { subject: 'åœ‹æ–‡', nodes: 118, questions: 3108 },
                { subject: 'è‹±æ–‡', nodes: 96, questions: 2529 },
                { subject: 'æ­·å²', nodes: 72, questions: 1896 },
                { subject: 'åœ°ç†', nodes: 58, questions: 1527 },
                { subject: 'å…¬æ°‘', nodes: 53, questions: 1311 }
            ];
            renderSubjects(defaultSubjects);
        }
        
        // CTA é»æ“Šè¿½è¹¤
        function trackCTA(action, label) {
            gtag('event', action, {
                'event_category': 'cta',
                'event_label': label
            });
        }
        
        // ç¶å®š CTA è¿½è¹¤äº‹ä»¶
        function bindCTATracking() {
            // ä¸» CTA
            document.querySelectorAll('a[href="quiz_ui.html"]').forEach(el => {
                el.addEventListener('click', () => trackCTA('click_start_quiz', 'hero'));
            });
            document.querySelectorAll('a[href="xtf_starmap.html"]').forEach(el => {
                el.addEventListener('click', () => trackCTA('click_starmap', 'hero'));
            });
            document.querySelectorAll('a[href="xtf_flashcard.html"]').forEach(el => {
                el.addEventListener('click', () => trackCTA('click_flashcard', 'feature'));
            });
            document.querySelectorAll('a[href="learning_path.html"]').forEach(el => {
                el.addEventListener('click', () => trackCTA('click_learning_path', 'feature'));
            });
            // è¨‚é–±æŒ‰éˆ•
            document.querySelectorAll('a[href="#"]').forEach(el => {
                if (el.textContent.includes('è¨‚é–±')) {
                    el.addEventListener('click', () => trackCTA('click_subscribe', el.closest('.bg-gradient-to-b') ? 'standard' : 'premium'));
                }
            });
        }
        
        // æª¢æŸ¥ç™»å…¥ç‹€æ…‹
        function checkAuth() {
            const token = localStorage.getItem('beidou_token');
            const userData = localStorage.getItem('beidou_user');
            
            if (token && userData) {
                const user = JSON.parse(userData);
                // å·²ç™»å…¥ï¼šé¡¯ç¤ºå„€è¡¨æ¿æŒ‰éˆ•
                document.getElementById('loginBtn').classList.add('hidden');
                document.getElementById('dashboardBtn').classList.remove('hidden');
                // é¡¯ç¤ºæµ®å‹•å°èˆª
                document.getElementById('floatNav').classList.remove('hidden');
                document.getElementById('navCoins').textContent = `ğŸª™ ${user.coins || 0}`;
                document.getElementById('navLevel').textContent = `Lv.${user.level || 1}`;
            }
        }
        
        // é é¢è¼‰å…¥æ™‚åŸ·è¡Œ
        document.addEventListener('DOMContentLoaded', () => {
            loadStats();
            bindCTATracking();
            checkAuth();
            
            // è¨»å†Š Service Worker
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.register('/sw.js')
                    .then(reg => console.log('âœ… SW è¨»å†ŠæˆåŠŸ'))
                    .catch(err => console.log('âš ï¸ SW è¨»å†Šå¤±æ•—:', err));
            }
        });
    </script>
</body>
</html>
